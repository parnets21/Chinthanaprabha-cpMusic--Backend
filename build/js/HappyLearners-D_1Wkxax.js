import{j as e,m as u,k as w,f as v}from"../assets/index-RuZLWH_6.js";import{r as m}from"./chunk-CTJ-xxG2.js";import{d as y}from"./chunk-UKrXCPbE.js";import"./chunk-DS08_OVb.js";import"./chunk-Cjtwp2vM.js";import"./chunk-ngrFHoWO.js";import"./chunk-nx6VVHRj.js";const E=()=>{const[s,d]=m.useState([{id:1,learnerName:"John Doe",feedback:"Great improvement in singing skills.",imageUrl:y,month:"2024-02",featured:!0}]),[f,n]=m.useState(!1),[i,h]=m.useState(null),[a,r]=m.useState({learnerName:"",feedback:"",imageUrl:"",month:"",date:""}),p=t=>{t.preventDefault();const o=t.target.querySelector('input[type="file"]').files[0];if(i){const c=s.map(x=>x.id===i.id?{...a,id:x.id,imageUrl:o?URL.createObjectURL(o):a.imageUrl}:x);d(c)}else{const c={...a,id:Date.now(),imageUrl:o?URL.createObjectURL(o):a.imageUrl,featured:!1};d([...s,c])}n(!1),h(null),r({learnerName:"",feedback:"",imageUrl:"",month:"",date:""})},g=t=>{h(t),r(t),n(!0)},b=t=>{window.confirm("Are you sure you want to delete this learner?")&&d(s.filter(l=>l.id!==t))},j=t=>{d(s.map(l=>({...l,featured:l.id===t})))},N=()=>{n(!1)};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Happy Learner of the Month"}),e.jsx("button",{onClick:()=>n(!0),className:"bg-black text-white px-4 py-2 rounded shadow",children:"Add New Learner"})]}),s.find(t=>t.featured)&&e.jsxs("div",{className:"bg-gradient-to-b from-[#0D0D0D] via-[#8B0000] to-[#0D0D0D] text-white p-4 md:p-6 rounded-lg mb-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(u,{className:"text-yellow-300"}),e.jsx("h2",{className:"text-lg md:text-xl font-bold",children:"Featured Learner"})]}),s.map(t=>t.featured&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:t.imageUrl,alt:t.learnerName,className:"w-32 h-32 rounded-full object-cover mb-3 shadow-md"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.learnerName}),e.jsx("p",{className:"mt-2 text-sm md:text-base",children:t.feedback}),e.jsxs("p",{className:"text-sm mt-2",children:["Month: ",new Date(t.month).toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),e.jsxs("p",{className:"text-sm mt-2",children:["Date: ",new Date(t.date).toLocaleDateString("en-US")]})]})]},t.id))]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(t=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg hover:shadow-2xl transition-shadow duration-200 flex items-center",children:[e.jsx("img",{src:t.imageUrl,alt:t.learnerName,className:"w-20 h-20 rounded-full object-cover shadow-md mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h3",{className:"font-semibold truncate",children:t.learnerName})}),e.jsxs("div",{className:"flex gap-2 ml-2 flex-shrink-0",children:[e.jsx("button",{onClick:()=>j(t.id),className:`p-1 rounded ${t.featured?"text-yellow-500":"text-gray-400"}`,children:e.jsx(u,{})}),e.jsx("button",{onClick:()=>g(t),className:"text-blue-500 p-1",children:e.jsx(w,{})}),e.jsx("button",{onClick:()=>b(t.id),className:"text-red-500 p-1",children:e.jsx(v,{})})]})]}),e.jsx("p",{className:"text-sm line-clamp-2",children:t.feedback}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Month: ",new Date(t.month).toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Date: ",new Date(t.date).toLocaleDateString("en-US")]})]})]},t.id))}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto relative shadow-2xl",children:[e.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",onClick:N,children:"Ã—"}),e.jsx("h2",{className:"text-xl font-bold mb-4",children:i?"Edit Learner":"Add New Learner"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx("input",{type:"text",value:a.learnerName,onChange:t=>r({...a,learnerName:t.target.value}),placeholder:"Learner Name",className:"mt-1 block w-full border rounded-md p-2 text-sm shadow-inner",required:!0}),e.jsx("textarea",{value:a.feedback,onChange:t=>r({...a,feedback:t.target.value}),placeholder:"Feedback",className:"mt-1 block w-full border rounded-md p-2 text-sm shadow-inner",rows:"3",required:!0}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>r({...a,imageUrl:URL.createObjectURL(t.target.files[0])}),className:"mt-1 block w-full border rounded-md p-2 text-sm shadow-inner",required:!0}),e.jsx("input",{type:"date",value:a.date,onChange:t=>r({...a,date:t.target.value}),className:"mt-1 block w-full border rounded-md p-2 text-sm shadow-inner",required:!0}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded shadow",children:i?"Update":"Add"})]})]})})]})};export{E as default};
