import{j as e}from"../assets/index-CSJBBbQo.js";import{r as o}from"./chunk-CTJ-xxG2.js";import{a as p}from"./chunk-ngrFHoWO.js";import"./chunk-DS08_OVb.js";import"./chunk-Cjtwp2vM.js";import"./chunk-nx6VVHRj.js";const f=()=>{const[l,i]=o.useState([]),[h,c]=o.useState(1),n=6;o.useEffect(()=>{(async()=>{try{const s=await p.get("https://chinthaprabhabackend-1.onrender.com/api/contacts");i(s.data)}catch(s){console.error("Failed to fetch contacts:",s)}})()},[]);const r=Math.ceil(l.length/n),a=Math.min(h,r===0?1:r),d=a*n,m=d-n,x=l.slice(m,d);return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Contact Submissions"}),x.length===0?e.jsx("p",{className:"text-gray-500",children:"No contacts found."}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-sm font-semibold text-gray-700",children:[e.jsx("th",{className:"px-6 py-3 text-center",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-center",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-center",children:"Phone"}),e.jsx("th",{className:"px-6 py-3 text-center",children:"Message"}),e.jsx("th",{className:"px-6 py-3 text-center",children:"Date"})]})}),e.jsx("tbody",{children:x.map(t=>e.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:t.name}),e.jsx("td",{className:"px-6 py-4",children:t.email}),e.jsx("td",{className:"px-6 py-4",children:t.phone}),e.jsx("td",{className:"px-6 py-4",children:t.message}),e.jsx("td",{className:"px-6 py-4",children:new Date(t.createdAt).toLocaleString()})]},t._id))})]}),e.jsxs("div",{className:"flex justify-center mt-6 space-x-2",children:[e.jsx("button",{disabled:a===1,onClick:()=>c(t=>t-1),className:`px-4 py-2 rounded border ${a===1?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Prev"}),Array.from({length:r},(t,s)=>e.jsx("button",{onClick:()=>c(s+1),className:`px-3 py-2 rounded border ${a===s+1?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:s+1},s)),e.jsx("button",{disabled:a===r,onClick:()=>c(t=>t+1),className:`px-4 py-2 rounded border ${a===r?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Next"})]})]})]})};export{f as default};
