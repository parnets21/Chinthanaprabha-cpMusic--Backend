import{j as e,i as ue,k as he,f as K,l as xe,F as pe}from"../assets/index-DYNONSj5.js";import{r as m}from"./chunk-CTJ-xxG2.js";import{a as p}from"./chunk-ngrFHoWO.js";import"./chunk-DS08_OVb.js";import"./chunk-Cjtwp2vM.js";import"./chunk-nx6VVHRj.js";const Ie=()=>{var Y,H,J;const[y,F]=m.useState([]),[M,C]=m.useState(!0),[V,U]=m.useState(""),[z,B]=m.useState([]),[E,q]=m.useState(!1),[k,R]=m.useState(""),[Q,g]=m.useState(!1),[x,L]=m.useState(""),[l,A]=m.useState(null),[o,h]=m.useState({name:"",description:"",price:"",instructor:"",image:null,lessons:[{videoFiles:[],lessonNumber:"",lessonIntro:""}]}),[ge,fe]=m.useState({}),[be,ye]=m.useState({}),[j,G]=m.useState(!1),[$,N]=m.useState(0),[w,W]=m.useState(0),[f,X]=m.useState(1),[P]=m.useState(5);m.useEffect(()=>{I(),te()},[]);const Z=async(s,a)=>{const t=Array.from(a.target.files);if(!t.length)return;const r=[],i=[];t.forEach(d=>{if(!d.type.startsWith("video/")){i.push(`${d.name} - Not a video file`);return}if(d.size>10*1024*1024*1024){i.push(`${d.name} - File too large (max 10GB)`);return}r.push(d)}),i.length>0&&alert(`Invalid files:
${i.join(`
`)}`),r.length>0&&(h(d=>({...d,lessons:d.lessons.map((n,c)=>c===s?{...n,videoFiles:[...n.videoFiles,...r]}:n)})),r.length===1?alert(`Successfully added: ${r[0].name}`):alert(`Successfully added ${r.length} video files`)),a.target.value=""},ee=(s,a)=>{h(t=>({...t,lessons:t.lessons.map((r,i)=>i===s?{...r,videoFiles:r.videoFiles.filter((d,n)=>n!==a)}:r)}))},se=s=>{window.confirm("Are you sure you want to remove all videos from this lesson?")&&h(a=>({...a,lessons:a.lessons.map((t,r)=>r===s?{...t,videoFiles:[]}:t)}))},b=async s=>{try{const a=await s;return console.log("API Response:",a.data),a}catch(a){throw console.error("API Error:",a.response?a.response.data:a.message),a}};m.useEffect(()=>{if(!j)return;let s,a=performance.now();const t=r=>{const i=Math.min(1e3,r-a);a=r;const d=$>=95?100:95,n=Math.max($,Math.min(d,w+i/1e3*3)),c=w+(n-w)*.2;W(c),s=requestAnimationFrame(t)};return s=requestAnimationFrame(t),()=>cancelAnimationFrame(s)},[j,$,w]);const I=async()=>{try{C(!0),U("");const s=await b(p.get("https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses"));F(s.data)}catch(s){console.error("Error fetching courses:",s),U("Failed to load courses")}finally{C(!1)}},te=async()=>{var s,a;try{q(!0),R("");const t=await b(p.get("https://cpsangeetha.com/chinthanaprabha/teacher-auth/teachers"));B(t.data||[])}catch(t){console.error("Error fetching teachers:",t),R(((a=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to load instructors"),B([])}finally{q(!1)}},O=f*P,ae=O-P,re=y.slice(ae,O),S=Math.ceil(y.length/P),v=(s,a=-1)=>{const{name:t,value:r,type:i,files:d}=s.target;if(i==="file")t==="image"&&h({...o,[t]:d[0]});else if(a===-1)h({...o,[t]:r});else{const n=[...o.lessons];n[a][t]=r,h({...o,lessons:n})}},ne=()=>{h({...o,lessons:[...o.lessons,{videoFiles:[],lessonNumber:"",lessonIntro:""}]})},oe=s=>{const a=o.lessons.filter((t,r)=>r!==s);h({...o,lessons:a})},le=()=>{L("add"),A(null),h({name:"",description:"",price:"",instructor:"",image:null,lessons:[{videoUrls:[],lessonNumber:"",lessonIntro:""}]}),g(!0)},ie=s=>{var t;console.log("Editing course:",s);const a=s.lessons.map(r=>({lessonNumber:r.lessonNumber||"",lessonIntro:r.lessonIntro||"",videoFiles:[],_id:r._id}));h({name:s.name||"",description:s.description||"",price:s.price||"",instructor:((t=s.instructor)==null?void 0:t._id)||s.instructor||"",image:null,currentImage:s.image,lessons:a.length>0?a:[{videoFiles:[],lessonNumber:"",lessonIntro:""}]}),A(s),L("edit"),g(!0)},de=s=>{A({...s}),L("view"),g(!0)},ce=async s=>{if(confirm("Are you sure you want to delete this course?"))try{await p.delete(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses/${s}`),F(y.filter(a=>a._id!==s))}catch(a){console.error("Error deleting course:",a)}},me=async s=>{s.preventDefault();try{G(!0),N(0),W(0);let t=1+o.lessons.filter(i=>i.videoFiles&&i.videoFiles.length>0).length;if(x==="edit"){const i=o.lessons.filter(n=>n._id&&n.videoFiles&&n.videoFiles.length>0).length,d=o.lessons.filter(n=>!n._id&&n.videoFiles&&n.videoFiles.length>0).length;t=1+i+d}let r=0;if(x==="add"){const i=new FormData;i.append("name",o.name),i.append("description",o.description),i.append("price",o.price),i.append("instructor",o.instructor),o.image&&i.append("image",o.image);const n=(await b(p.post("https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses",i,{headers:{"Content-Type":"multipart/form-data"}}))).data._id;r+=1,N(Math.round(r/Math.max(t,1)*100));for(const c of o.lessons)if(c.videoFiles&&c.videoFiles.length>0){const u=new FormData;u.append("lessonNumber",c.lessonNumber),u.append("lessonIntro",c.lessonIntro),c.videoFiles.forEach((D,ve)=>{u.append("video",D)}),await b(p.post(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses/${n}/lessons`,u,{headers:{"Content-Type":"multipart/form-data"}})),r+=1,N(Math.round(r/Math.max(t,1)*100))}}else if(x==="edit"){const i=l._id;try{const d=new FormData;d.append("name",o.name),d.append("description",o.description),d.append("price",o.price),d.append("instructor",o.instructor),o.image&&d.append("image",o.image),await b(p.put(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses/${i}`,d,{headers:{"Content-Type":"multipart/form-data"}})),r+=1,N(Math.round(r/Math.max(t,1)*100));for(const n of o.lessons)if(n._id){if(n.videoFiles&&n.videoFiles.length>0){const c=new FormData;c.append("lessonNumber",n.lessonNumber),c.append("lessonIntro",n.lessonIntro),n.videoFiles.forEach((u,D)=>{c.append("video",u)}),await b(p.put(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/lessons/${n._id}`,c,{headers:{"Content-Type":"multipart/form-data"}})),r+=1,N(Math.round(r/Math.max(t,1)*100))}}else if(n.videoFiles&&n.videoFiles.length>0){const c=new FormData;c.append("lessonNumber",n.lessonNumber),c.append("lessonIntro",n.lessonIntro),n.videoFiles.forEach((u,D)=>{c.append("video",u)}),await b(p.post(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses/${i}/lessons`,c,{headers:{"Content-Type":"multipart/form-data"}})),r+=1,N(Math.round(r/Math.max(t,1)*100))}if(l.lessons){const n=o.lessons.filter(u=>u._id).map(u=>u._id),c=l.lessons.filter(u=>!n.includes(u._id));for(const u of c)console.log(`Deleting lesson ${u._id}`),await b(p.delete(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/lessons/${u._id}`))}console.log("Course updated successfully"),g(!1),I()}catch(d){console.error("Error updating course:",d),alert("There was an error updating the course. Please try again.")}}g(!1),I()}catch(a){console.error("Error saving course:",a),alert("Error saving course. Please check the console for details.")}finally{G(!1)}},_=s=>{X(s)};return e.jsxs("div",{className:"h-screen p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Course Management"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{onClick:le,className:"bg-black text-white px-4 py-2 rounded",children:"Add New Course"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:M?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"Loading courses..."})}):V?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:V}),e.jsx("button",{onClick:I,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Retry"})]}):y.length===0?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"No courses found. Add your first course!"})}):e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800 text-white",children:[e.jsx("th",{className:"w-16 px-4 py-2 text-center text-xs font-medium uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"w-20 px-4 py-2 text-center text-xs font-medium uppercase tracking-wider",children:"Image"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium uppercase tracking-wider",children:"Instructor"}),e.jsx("th",{className:"w-20 px-4 py-2 text-center text-xs font-medium uppercase tracking-wider",children:"Videos"}),e.jsx("th",{className:"w-20 px-4 py-2 text-center text-xs font-medium uppercase tracking-wider",children:"Lessons"}),e.jsx("th",{className:"w-20 px-4 py-2 text-center text-xs font-medium uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"w-32 px-4 py-2 text-center text-xs font-medium uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:re.map(s=>{var a;return e.jsxs("tr",{className:"hover:bg-gray-100 transition-colors duration-200",children:[e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",s._id.substring(0,6)]}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx(T,{image:s.image,name:s.name})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:s.name}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:((a=s.instructor)==null?void 0:a.name)||s.instructor||"N/A"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-indigo-600",children:s.lessons.reduce((t,r)=>t+(r.videoFiles?r.videoFiles.length:0),0)}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-indigo-600",children:s.lessons.length}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-bold text-gray-900",children:["₹ ",s.price]}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-sm font-medium space-x-3",children:[e.jsx("button",{onClick:()=>de(s),className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(ue,{size:18})}),e.jsx("button",{onClick:()=>ie(s),className:"text-blue-600 hover:text-blue-900",children:e.jsx(he,{size:18})}),e.jsx("button",{onClick:()=>ce(s._id),className:"text-red-600 hover:text-red-900",children:e.jsx(K,{size:18})})]})]},s._id)})})]})}),e.jsx("div",{className:"flex lg:justify-end justify start mt-4 mb-4 pr-4",children:e.jsxs("nav",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>_(Math.max(1,f-1)),disabled:f===1,className:`px-3 py-1 mx-1 rounded ${f===1?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:"Previous"}),Array.from({length:S},(s,a)=>a+1).map(s=>e.jsx("button",{onClick:()=>_(s),className:`px-3 py-1 mx-1 rounded ${f===s?"bg-black text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:s},s)),e.jsx("button",{onClick:()=>_(Math.min(S,f+1)),disabled:f===S,className:`px-3 py-1 mx-1 rounded ${f===S?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:"Next"})]})}),Q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg shadow-xl transform transition-all overflow-y-auto max-h-[85vh] relative",children:[e.jsx("button",{onClick:()=>g(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 focus:outline-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 text-left",children:x==="view"?"Course Details":x==="add"?"Add New Course":"Edit Course"}),x==="view"&&l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Course Image"}),e.jsx(T,{image:l.image,name:l.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Course Name"}),e.jsx("p",{children:l.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"About Guru"}),e.jsx("p",{children:l.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Instructor"}),e.jsx("p",{children:((Y=l.instructor)==null?void 0:Y.name)||l.instructor||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Price"}),e.jsxs("p",{children:["₹",l.price]})]}),l.videoUrl&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Course Preview Video"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2 truncate",children:l.videoUrl}),e.jsx("div",{className:"relative w-full h-64 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("iframe",{src:getYouTubeEmbedUrl(l.videoUrl),title:"Course Preview Video",className:"absolute inset-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Lessons"}),e.jsx("ul",{className:"list-disc pl-5",children:(H=l==null?void 0:l.lessons)==null?void 0:H.map((s,a)=>e.jsxs("li",{children:["Lesson ",s.lessonNumber,": ",s.lessonIntro]},a))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Videos"}),e.jsx("div",{className:"grid grid-cols-1 gap-4 mt-2",children:(J=l==null?void 0:l.lessons)==null?void 0:J.flatMap(s=>{var a;return(a=s.videoUrls)==null?void 0:a.map((t,r)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[s.lessonNumber," - Video ",r+1]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t})]}),e.jsx("div",{className:"relative w-full h-64 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("iframe",{src:getYouTubeEmbedUrl(t),title:`YouTube video ${r+1}`,className:"absolute inset-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]},r))})}),(!(l!=null&&l.lessons)||l.lessons.length===0||l.lessons.every(s=>!s.videoFiles||s.videoFiles.length===0))&&e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"No videos available for this course."})]}),e.jsx("button",{onClick:()=>g(!1),className:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Close"})]}):e.jsxs("form",{onSubmit:me,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 text-left",children:"Course Image"}),e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:v,className:"mt-1"}),x==="edit"&&o.currentImage&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current image:"}),e.jsx(T,{image:o.currentImage,name:o.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 text-left",children:"Course Name"}),e.jsx("input",{type:"text",name:"name",value:o.name,onChange:v,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 text-left",children:"About Guru"}),e.jsx("textarea",{name:"description",value:o.description,onChange:v,rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 text-left",children:"Instructor"}),e.jsxs("select",{name:"instructor",value:o.instructor,onChange:v,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:E?"Loading instructors...":"Select an instructor"}),k&&e.jsx("option",{value:"",disabled:!0,children:k}),!E&&!k&&z.length===0&&e.jsx("option",{value:"",disabled:!0,children:"No instructors found"}),!E&&!k&&z.map(s=>e.jsx("option",{value:s._id,children:s.name},s._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 text-left",children:"Price"}),e.jsx("input",{type:"number",name:"price",value:o.price,onChange:v,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 text-left",children:"Lessons"}),o.lessons.map((s,a)=>e.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h4",{className:"text-lg font-medium text-left",children:["Lesson ",a+1]}),e.jsx("button",{type:"button",onClick:()=>oe(a),className:"text-red-600 hover:text-red-800",children:e.jsx(xe,{})})]}),e.jsx("input",{type:"text",placeholder:"Lesson Number",value:s.lessonNumber,onChange:t=>v(t,a),name:"lessonNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 mb-2",required:!0}),e.jsx("input",{type:"text",placeholder:"Lesson Intro",value:s.lessonIntro,onChange:t=>v(t,a),name:"lessonIntro",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 mb-2",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 text-left",children:"Video Files (Up to 10GB each)"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:t=>Z(a,t),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload multiple video files. Each file can be up to 10GB. Formats: MP4, AVI, MOV, etc."})]}),s.videoFiles&&s.videoFiles.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Added Videos (",s.videoFiles.length,"):"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500 bg-blue-100 px-2 py-1 rounded",children:["Total: ",s.videoFiles.reduce((t,r)=>t+r.size,0)>1024*1024*1024?`${(s.videoFiles.reduce((t,r)=>t+r.size,0)/(1024*1024*1024)).toFixed(2)} GB`:`${(s.videoFiles.reduce((t,r)=>t+r.size,0)/(1024*1024)).toFixed(2)} MB`]}),s.videoFiles.length>1&&e.jsx("button",{type:"button",onClick:()=>se(a),className:"text-xs text-red-600 hover:text-red-800 px-2 py-1 rounded hover:bg-red-50 transition-colors",title:"Clear all videos",children:"Clear All"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-60 overflow-y-auto",children:s.videoFiles.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded border hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-600 truncate font-medium",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:t.size>1024*1024*1024?`${(t.size/(1024*1024*1024)).toFixed(2)} GB`:`${(t.size/(1024*1024)).toFixed(2)} MB`}),e.jsx("span",{className:"text-xs text-gray-400",children:"•"}),e.jsx("span",{className:"text-xs text-gray-500",children:t.type.split("/")[1].toUpperCase()})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:["#",r+1]}),e.jsx("button",{type:"button",onClick:()=>ee(a,r),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove video",children:e.jsx(K,{size:14})})]})]},r))})]})]})]},a)),e.jsxs("button",{type:"button",onClick:ne,className:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:[e.jsx(pe,{className:"inline-block mr-2"})," Add Lesson"]})]}),e.jsxs("div",{className:"flex space-x-3 items-center",children:[e.jsx("button",{type:"submit",disabled:j,className:`flex-1 px-4 py-2 rounded text-white ${j?"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:j?`${x==="add"?"Adding":"Updating"}... ${Math.round(w)}%`:x==="add"?"Add Course":"Update Course"}),j&&e.jsx("div",{className:"w-40",children:e.jsx("div",{className:"h-2 bg-gray-200 rounded overflow-hidden",children:e.jsx("div",{className:"h-2 bg-blue-600 rounded transition-all duration-300 ease-out",style:{width:`${Math.round(w)}%`}})})}),e.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",children:"Cancel"})]})]})]})})]})},T=({image:y,name:F})=>{const[M,C]=m.useState(!1);return e.jsx("img",{src:M||!y?"/placeholder.svg":`${y}`,alt:F,className:"h-10 w-10 rounded-full",onError:()=>C(!0)})};export{Ie as default};
