import{j as e,af as g,ag as f,ah as j,ai as b,aj as u,ak as p,al as v}from"../assets/index-CqCVu5Xz.js";import{r,b as w}from"./chunk-CTJ-xxG2.js";import{a as y}from"./chunk-ngrFHoWO.js";import"./chunk-DS08_OVb.js";import"./chunk-Cjtwp2vM.js";import"./chunk-nx6VVHRj.js";function P(){const[t,i]=r.useState(""),[n,l]=r.useState(""),[o,d]=r.useState(!1),h=w(),x=async a=>{var m,c;a.preventDefault(),d(!0);try{(await y.post("https://cpsangeetha.com/chinthanaprabha/admin-auth/register",{email:t,password:n,role:"subadmin"})).data.token?(alert("Subadmin registered successfully!"),i(""),l(""),h("/admin/users")):alert("Failed to register subadmin. Please try again.")}catch(s){console.error("Error registering subadmin:",s),alert(((c=(m=s.response)==null?void 0:m.data)==null?void 0:c.message)||"Server error during registration.")}finally{d(!1)}};return e.jsx("div",{className:"flex justify-center items-center min-h-[calc(100vh-64px)] p-4",children:e.jsxs(g,{className:"w-full max-w-md",children:[e.jsx(f,{children:e.jsx(j,{className:"text-2xl text-center",children:"Register Subadmin"})}),e.jsx(b,{children:e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(p,{id:"email",type:"email",placeholder:"subadmin@example.com",value:t,onChange:a=>i(a.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsx(p,{id:"password",type:"password",placeholder:"********",value:n,onChange:a=>l(a.target.value),required:!0})]}),e.jsx(v,{type:"submit",className:"w-full",disabled:o,children:o?"Registering...":"Register Subadmin"})]})})]})})}export{P as default};
