import{j as e,i as Ce,k as $e,f as se,l as Fe,F as Ee}from"../assets/index-BPQouwZs.js";import{r as h}from"./chunk-CTJ-xxG2.js";import{a as f}from"./chunk-ngrFHoWO.js";import"./chunk-DS08_OVb.js";import"./chunk-Cjtwp2vM.js";import"./chunk-nx6VVHRj.js";const Ae=()=>{var K;const[v,E]=h.useState([]),[S,k]=h.useState(!0),[q,V]=h.useState(""),[O,R]=h.useState([]),[G,W]=h.useState(!1),[P,Y]=h.useState(""),[te,y]=h.useState(!1),[x,U]=h.useState(""),[p,A]=h.useState(null),[c,g]=h.useState({name:"",description:"",price:"",instructor:"",image:null,lessons:[{videoFiles:[],lessonNumber:"",lessonIntro:""}]}),[re,L]=h.useState({}),[H,M]=h.useState({}),[_,J]=h.useState({}),[F,Q]=h.useState(!1),[X,w]=h.useState(0),[j,ae]=h.useState(1),D=5;h.useEffect(()=>{z(),ne()},[]),h.useEffect(()=>()=>{Object.values(_).forEach(s=>s.abort()),console.log("Cancelled all uploads on unmount")},[_]),h.useEffect(()=>{if(!F)return;const s=setInterval(()=>{w(t=>{const r=Math.min(t+5,95);return t>=95?95:r})},500);return()=>clearInterval(s)},[F]);const b=async s=>{var t;try{const r=await s;return console.log("API Response:",r.data),r}catch(r){throw console.error("API Error:",((t=r.response)==null?void 0:t.data)||r.message),r}},z=async()=>{k(!0),V("");try{const s=await b(f.get("https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses"));E(s.data||[])}catch{V("Failed to load courses")}finally{k(!1)}},ne=async()=>{W(!0),Y("");try{const s=await b(f.get("https://cpsangeetha.com/chinthanaprabha/teacher-auth/teachers"));R(s.data||[])}catch{Y("Failed to load instructors"),R([])}finally{W(!1)}},oe=async(s,t,r)=>{var l,i,d,o,m;const n=new AbortController;J(a=>({...a,[t]:n})),L(a=>({...a,[t]:!0})),M(a=>({...a,[t]:0}));try{if(!s.type.startsWith("video/"))throw new Error(`${s.name} is not a valid video file`);if(s.size>10*1024*1024*1024)throw new Error(`${s.name} exceeds 10GB limit`);const a=new FormData;a.append(r.includes("thumbnail")?"thumbnail":"video",s);const u=await f.post(r,a,{headers:{"Content-Type":"multipart/form-data"},signal:n.signal,timeout:600*1e3,onUploadProgress:({loaded:N,total:$})=>{const ee=Math.round(N/$*100);M(we=>({...we,[t]:ee})),console.log(`ðŸ“Š Upload ${t}: ${ee}% (${(N/1024/1024).toFixed(2)}MB/${($/1024/1024).toFixed(2)}MB)`)}});if(!((l=u.data)!=null&&l.location))throw new Error("Upload failed: No location returned from server");return L(N=>({...N,[t]:!1})),u.data.location}catch(a){throw L(u=>({...u,[t]:!1})),a.name==="AbortError"?new Error("Upload cancelled"):a.code==="ECONNABORTED"?new Error(`Upload timeout for ${s.name}. Please try again.`):((i=a.response)==null?void 0:i.status)===413?new Error(`${s.name} is too large. Maximum size is 10GB.`):((d=a.response)==null?void 0:d.status)>=500?new Error(`Server error uploading ${s.name}. Please try again later.`):new Error(((m=(o=a.response)==null?void 0:o.data)==null?void 0:m.error)||a.message||`Failed to upload ${s.name}`)}finally{J(a=>{const u={...a};return delete u[t],u})}},le=async(s,t)=>{const r=Array.from(t.target.files);if(!r.length)return;const n=[],l=r.filter(i=>i.type.startsWith("video/")?i.size>10*1024*1024*1024?(n.push(`${i.name} exceeds 10GB limit`),!1):!0:(n.push(`${i.name} is not a video file`),!1));if(n.length>0&&alert(`File validation errors:
${n.join(`
`)}`),l.length===0){t.target.value="";return}try{const i=l.map(async(a,u)=>{const N=`lesson-${s}-file-${Date.now()}-${u}`;try{const $=await oe(a,N,"https://cpsangeetha.com/chinthanaprabha/upload-video");return{name:a.name,size:a.size,type:a.type,url:$,success:!0}}catch($){return console.error(`Failed to upload ${a.name}:`,$),{name:a.name,size:a.size,type:a.type,error:$.message,success:!1}}}),d=await Promise.all(i),o=d.filter(a=>a.success),m=d.filter(a=>!a.success);if(o.length>0&&g(a=>({...a,lessons:a.lessons.map((u,N)=>N===s?{...u,videoFiles:[...u.videoFiles||[],...o]}:u)})),o.length>0&&m.length===0)alert(`Successfully uploaded ${o.length} video(s)`);else if(o.length>0&&m.length>0){const a=m.map(u=>u.name).join(", ");alert(`Uploaded ${o.length} video(s) successfully.
Failed: ${a}`)}else{const a=m.map(u=>u.name).join(", ");alert(`All uploads failed:
${a}`)}}catch(i){console.error("Unexpected error during upload:",i),alert(`Unexpected error: ${i.message}`)}finally{t.target.value=""}},ie=(s,t)=>{g(r=>({...r,lessons:r.lessons.map((n,l)=>l===s?{...n,videoFiles:n.videoFiles.filter((i,d)=>d!==t)}:n)}))},ce=s=>{window.confirm("Remove all videos from this lesson?")&&g(t=>({...t,lessons:t.lessons.map((r,n)=>n===s?{...r,videoFiles:[]}:r)}))},de=s=>{const t=_[s];t&&(t.abort(),L(r=>({...r,[s]:!1})),M(r=>({...r,[s]:0})),alert("Upload cancelled"))},C=(s,t=-1)=>{const{name:r,value:n,files:l}=s.target;g(r==="image"?i=>({...i,image:l[0]}):t===-1?i=>({...i,[r]:n}):i=>({...i,lessons:i.lessons.map((d,o)=>o===t?{...d,[r]:n}:d)}))},me=()=>{g(s=>({...s,lessons:[...s.lessons,{videoFiles:[],lessonNumber:"",lessonIntro:""}]}))},ue=s=>{g(t=>({...t,lessons:t.lessons.filter((r,n)=>n!==s)}))},he=()=>{U("add"),A(null),g({name:"",description:"",price:"",instructor:"",image:null,lessons:[{videoFiles:[],lessonNumber:"",lessonIntro:""}]}),y(!0)},pe=s=>{var t,r;U("edit"),A(s),g({name:s.name||"",description:s.description||"",price:s.price||"",instructor:((t=s.instructor)==null?void 0:t._id)||s.instructor||"",image:null,currentImage:s.image,lessons:(r=s.lessons)!=null&&r.length?s.lessons.map(n=>{var l;return{lessonNumber:n.lessonNumber||"",lessonIntro:n.lessonIntro||"",videoFiles:((l=n.videoUrls)==null?void 0:l.map(i=>({url:i,name:i.split("/").pop(),size:0,type:"video/mp4"})))||[],_id:n._id}}):[{videoFiles:[],lessonNumber:"",lessonIntro:""}]}),y(!0)},xe=s=>{U("view"),A(s),y(!0)},ge=async s=>{if(confirm("Are you sure you want to delete this course?"))try{await b(f.delete(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses/${s}`)),E(v.filter(t=>t._id!==s))}catch{alert("Failed to delete course")}},fe=s=>{const t=[],r=s.map(l=>l.lessonNumber).filter(Boolean),n=r.filter((l,i)=>r.indexOf(l)!==i);return n.length>0&&t.push(`Duplicate lesson numbers found: ${[...new Set(n)].join(", ")}`),s.forEach((l,i)=>{var d,o,m;(d=l.lessonNumber)!=null&&d.trim()||t.push(`Lesson ${i+1}: Lesson number is required`),(o=l.lessonIntro)!=null&&o.trim()||t.push(`Lesson ${i+1}: Lesson intro is required`),(!((m=l.videoFiles)!=null&&m.length)||l.videoFiles.every(a=>!a.url))&&t.push(`Lesson ${i+1}: At least one video is required`)}),t},be=async(s,t)=>{var l,i,d;if(!((l=s.lessonNumber)!=null&&l.trim())||!((i=s.lessonIntro)!=null&&i.trim()))throw new Error(`Lesson ${s.lessonNumber||"Unknown"}: Missing required fields`);const r=new FormData;r.append("lessonNumber",s.lessonNumber),r.append("lessonIntro",s.lessonIntro);const n=(d=s.videoFiles)==null?void 0:d.map(o=>o.url).filter(Boolean);if(!n||n.length===0)throw new Error(`Lesson ${s.lessonNumber}: At least one video is required`);return n.forEach(o=>r.append("videoUrls",o)),s._id?await b(f.put(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/lessons/${s._id}`,r,{headers:{"Content-Type":"multipart/form-data"}})):await b(f.post(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses/${t}/lessons`,r,{headers:{"Content-Type":"multipart/form-data"}}))},je=async s=>{if(s.preventDefault(),!c.name||!c.description||!c.price||!c.instructor){alert("Please fill in all required fields");return}if(x==="add"&&!c.image){alert("Please select a course image");return}const t=fe(c.lessons);if(t.length>0){alert(`Please fix the following errors:
${t.join(`
`)}`);return}Q(!0),w(0);let r=null;try{const n=new FormData;n.append("name",c.name),n.append("description",c.description),n.append("price",c.price),n.append("instructor",c.instructor),c.image&&n.append("thumbnail",c.image),x==="add"?(r=(await b(f.post("https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses",n,{headers:{"Content-Type":"multipart/form-data"}}))).data._id,w(30)):(r=p._id,await b(f.put(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses/${r}`,n,{headers:{"Content-Type":"multipart/form-data"}})),w(30));const l=c.lessons.filter(o=>{var m,a,u;return((m=o.lessonNumber)==null?void 0:m.trim())&&((a=o.lessonIntro)==null?void 0:a.trim())&&((u=o.videoFiles)==null?void 0:u.length)>0});if(l.length===0)throw new Error("No valid lessons to process");const i=50/l.length;let d=30;for(let o=0;o<l.length;o++){const m=l[o];try{await be(m,r),d+=i,w(Math.round(d))}catch(a){throw console.error(`Failed to process lesson ${m.lessonNumber}:`,a),new Error(`Failed to process lesson ${m.lessonNumber}: ${a.message}`)}}if(x==="edit"&&p.lessons){const o=c.lessons.filter(a=>a._id).map(a=>a._id),m=p.lessons.filter(a=>!o.includes(a._id));for(const a of m)try{await b(f.delete(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/lessons/${a._id}`))}catch(u){console.error(`Failed to delete lesson ${a._id}:`,u)}}w(100),alert(x==="add"?"Course added successfully!":"Course updated successfully!"),y(!1),await z()}catch(n){if(console.error("Course submission error:",n),x==="add"&&r)try{await b(f.delete(`https://cpsangeetha.com/chinthanaprabha/courses-lessons/courses/${r}`)),console.log("Rolled back course creation due to error")}catch(l){console.error("Failed to rollback course creation:",l)}alert(`Error saving course: ${n.message}`)}finally{Q(!1),w(0)}},Z=j*D,Ne=Z-D,ve=(v||[]).slice(Ne,Z),I=Math.ceil((v||[]).length/D),B=s=>ae(s),ye=s=>{if(s===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(s)/Math.log(t));return`${(s/Math.pow(t,n)).toFixed(2)} ${r[n]}`};return e.jsxs("div",{className:"h-screen p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Course Management"}),e.jsx("button",{onClick:he,className:"bg-black text-white px-4 py-2 rounded",children:"Add New Course"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:S?e.jsx("div",{className:"p-8 text-center",children:"Loading courses..."}):q?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:q}),e.jsx("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Retry"})]}):(v||[]).length===0?e.jsx("div",{className:"p-8 text-center",children:"No courses found. Add your first course!"}):e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800 text-white",children:[e.jsx("th",{className:"w-16 px-4 py-2 text-center",children:"ID"}),e.jsx("th",{className:"w-20 px-4 py-2 text-center",children:"Image"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Instructor"}),e.jsx("th",{className:"w-20 px-4 py-2 text-center",children:"Videos"}),e.jsx("th",{className:"w-20 px-4 py-2 text-center",children:"Lessons"}),e.jsx("th",{className:"w-20 px-4 py-2 text-center",children:"Price"}),e.jsx("th",{className:"w-32 px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ve.map(s=>{var t;return e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"px-4 py-2",children:s._id.substring(0,6)}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(T,{image:s.image,name:s.name})}),e.jsx("td",{className:"px-4 py-2",children:s.name}),e.jsx("td",{className:"px-4 py-2",children:((t=s.instructor)==null?void 0:t.name)||"N/A"}),e.jsx("td",{className:"px-4 py-2",children:(s.lessons||[]).reduce((r,n)=>{var l;return r+(((l=n.videoUrls)==null?void 0:l.length)||0)},0)}),e.jsx("td",{className:"px-4 py-2",children:(s.lessons||[]).length}),e.jsxs("td",{className:"px-4 py-2",children:["â‚¹",s.price]}),e.jsxs("td",{className:"px-4 py-2 space-x-3 text-right",children:[e.jsx("button",{onClick:()=>xe(s),className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(Ce,{size:18})}),e.jsx("button",{onClick:()=>pe(s),className:"text-blue-600 hover:text-blue-900",children:e.jsx($e,{size:18})}),e.jsx("button",{onClick:()=>ge(s._id),className:"text-red-600 hover:text-red-900",children:e.jsx(se,{size:18})})]})]},s._id)})})]})}),e.jsx("div",{className:"flex justify-end mt-4 mb-4 pr-4",children:e.jsxs("nav",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>B(Math.max(1,j-1)),disabled:j===1,className:`px-3 py-1 mx-1 rounded ${j===1?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:"Previous"}),Array.from({length:I},(s,t)=>t+1).map(s=>e.jsx("button",{onClick:()=>B(s),className:`px-3 py-1 mx-1 rounded ${j===s?"bg-black text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:s},s)),e.jsx("button",{onClick:()=>B(Math.min(I,j+1)),disabled:j===I,className:`px-3 py-1 mx-1 rounded ${j===I?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:"Next"})]})}),te&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[85vh] overflow-y-auto",children:[e.jsx("button",{onClick:()=>y(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-xl font-bold mb-4 text-left",children:x==="view"?"Course Details":x==="add"?"Add New Course":"Edit Course"}),x==="view"&&p?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Course Image"}),e.jsx(T,{image:p.image,name:p.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Course Name"}),e.jsx("p",{children:p.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Description"}),e.jsx("p",{children:p.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Instructor"}),e.jsx("p",{children:((K=p.instructor)==null?void 0:K.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Price"}),e.jsxs("p",{children:["â‚¹",p.price]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Lessons"}),e.jsx("ul",{className:"list-disc pl-5",children:(p.lessons||[]).map((s,t)=>e.jsxs("li",{children:["Lesson ",s.lessonNumber,": ",s.lessonIntro]},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-left",children:"Videos"}),(()=>{const s=(p.lessons||[]).flatMap(t=>(t.videoUrls||[]).map((r,n)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-2",children:[e.jsxs("p",{className:"text-sm font-medium",children:["Lesson ",t.lessonNumber," - Video ",n+1]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:r}),e.jsx("video",{src:r,controls:!0,className:"w-full h-64 mt-2 rounded-lg",preload:"metadata",children:"Your browser does not support the video tag."})]},`${t.lessonNumber}-${n}`)));return s.length>0?s:e.jsx("p",{className:"text-gray-500",children:"No videos available."})})()]}),e.jsx("button",{onClick:()=>y(!1),className:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Close"})]}):e.jsxs("form",{onSubmit:je,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-left",children:"Course Image"}),e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:C,className:"mt-1 w-full"}),x==="edit"&&c.currentImage&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current image:"}),e.jsx(T,{image:c.currentImage,name:c.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-left",children:"Course Name"}),e.jsx("input",{type:"text",name:"name",value:c.name,onChange:C,className:"mt-1 w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-left",children:"Description"}),e.jsx("textarea",{name:"description",value:c.description,onChange:C,rows:3,className:"mt-1 w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-left",children:"Instructor"}),e.jsxs("select",{name:"instructor",value:c.instructor,onChange:C,className:"mt-1 w-full px-3 py-2 border rounded-md",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:G?"Loading...":"Select an instructor"}),P&&e.jsx("option",{value:"",disabled:!0,children:P}),!G&&!P&&(O||[]).length===0&&e.jsx("option",{value:"",disabled:!0,children:"No instructors found"}),(O||[]).map(s=>e.jsx("option",{value:s._id,children:s.name},s._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-left",children:"Price"}),e.jsx("input",{type:"number",name:"price",value:c.price,onChange:C,className:"mt-1 w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-left",children:"Lessons"}),(c.lessons||[]).map((s,t)=>{var r,n,l,i,d;return e.jsxs("div",{className:"mt-4 p-4 border rounded-md",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("h4",{className:"text-lg font-medium",children:["Lesson ",t+1]}),e.jsx("button",{type:"button",onClick:()=>ue(t),className:"text-red-600 hover:text-red-800",children:e.jsx(Fe,{})})]}),e.jsx("input",{type:"text",placeholder:"Lesson Number",name:"lessonNumber",value:s.lessonNumber,onChange:o=>C(o,t),className:`w-full px-3 py-2 border rounded-md mb-2 ${(r=s.lessonNumber)!=null&&r.trim()?"border-gray-300":"border-red-300 bg-red-50"}`,required:!0}),e.jsx("input",{type:"text",placeholder:"Lesson Intro",name:"lessonIntro",value:s.lessonIntro,onChange:o=>C(o,t),className:`w-full px-3 py-2 border rounded-md mb-2 ${(n=s.lessonIntro)!=null&&n.trim()?"border-gray-300":"border-red-300 bg-red-50"}`,required:!0}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-medium text-left ${!((l=s.videoFiles)!=null&&l.length)||s.videoFiles.every(o=>!o.url)?"text-red-600":"text-gray-700"}`,children:["Videos (Up to 10GB) ",(!((i=s.videoFiles)!=null&&i.length)||s.videoFiles.every(o=>!o.url))&&"*"]}),e.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:o=>le(t,o),className:"mt-1 w-full"}),Object.keys(re).filter(o=>o.startsWith(`lesson-${t}-`)).map(o=>e.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Uploading video..."}),e.jsx("button",{onClick:()=>de(o),className:"text-red-600 hover:text-red-800",children:"Cancel"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${H[o]||0}%`}})}),e.jsxs("p",{className:"text-xs mt-1",children:[H[o]||0,"%"]})]},o)),((d=s.videoFiles)==null?void 0:d.length)>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("p",{children:["Added Videos (",s.videoFiles.length,")"]}),e.jsx("button",{type:"button",onClick:()=>ce(t),className:"text-red-600 hover:text-red-800",children:"Clear All"})]}),s.videoFiles.map((o,m)=>e.jsxs("div",{className:"flex justify-between mt-1 bg-gray-50 p-2 rounded",children:[e.jsxs("span",{className:"truncate",children:[o.name," (",ye(o.size),")",o.url&&e.jsx("span",{className:"ml-1 text-green-600",children:"(Uploaded)"})]}),e.jsx("button",{type:"button",onClick:()=>ie(t,m),className:"text-red-600 hover:text-red-800",children:e.jsx(se,{size:14})})]},m))]})]})]},t)}),e.jsxs("button",{type:"button",onClick:me,className:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:[e.jsx(Ee,{className:"inline-block mr-2"})," Add Lesson"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",disabled:F,className:`flex-1 px-4 py-2 rounded text-white ${F?"bg-blue-300":"bg-blue-500 hover:bg-blue-600"}`,children:F?`Processing... ${X}%`:x==="add"?"Add Course":"Update Course"}),F&&e.jsx("div",{className:"w-40",children:e.jsx("div",{className:"h-2 bg-gray-200 rounded",children:e.jsx("div",{className:"h-2 bg-blue-600 rounded",style:{width:`${X}%`}})})}),e.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",children:"Cancel"})]})]})]})})]})},T=({image:v,name:E})=>{const[S,k]=h.useState(!1);return e.jsx("img",{src:S||!v?"/placeholder.svg":v,alt:E,className:"h-10 w-10 rounded-full",onError:()=>k(!0)})};export{Ae as default};
